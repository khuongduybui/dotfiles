- defaults:
    link:
      create: true
      relink: true

- shell:
    - command: sh/sudo.sh
      description: Install passwordless sudo.
      stderr: true
    - command: sh/brew.sh
      description: Install homebrew.
    - command: curl https://get.trunk.io -fsSL | bash -s -- -y
      description: Install Trunk.

- clean: ["~"]

- link:
    ~/setup/backup-and-copy.sh: setup/backup-and-copy.sh
    ~/setup/backup-and-link.sh: setup/backup-and-link.sh

    ~/.config/atuin/config.toml: .config/atuin/config.toml
    ~/.config/fish/conf.d/dotfiles.fish: .config/fish/conf.d/dotfiles.fish
    ~/.config/fish/conf.d/abbreviations.fish: .config/fish/conf.d/abbreviations.fish
    ~/.config/fish/functions: .config/fish/functions
    ~/.config/starship.toml: .config/starship.toml

    ~/.editorconfig: .editorconfig
    ~/.gitconfig: git/.gitconfig
    ~/.gitignore: git/.gitignore
    ~/.config/git/attributes: .config/git/attributes
    ~/.config/gh/config.yml: .config/gh/config.yml

- create:
    - ~/code

- brew:
    - fish
    - atuin
    - starship
    - direnv
    - zoxide

    - bat
    - exa
    - git-delta
    - gh

    - awscli
    - aws-sso-util
    - awscurl
    - git-remote-codecommit

- shell:
    - command: brew upgrade
      description: Update tools.
    - command: sh/chsh.sh fish
      description: Change user shell.
    - command: sh/asdf.sh
      description: Install asdf.

- asdf:
    - plugin: deno
      global: latest
      versions:
        - latest
    - plugin: golang
      global: latest
      versions:
        - latest
    - plugin: nodejs
      global: latest
      versions:
        - latest
    - plugin: python
      global: latest
      versions:
        - latest
    - plugin: rust
      global: latest
      versions:
        - latest

- shell:
    - command: sh/dev.sh
      description: Install additional development tools.
    - command: sh/aws.sh
      description: Install additional aws tools.
    - command: sh/shell-utils.sh
      description: Install customer shell utils.
